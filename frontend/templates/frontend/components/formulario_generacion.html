<div class="bg-white rounded shadow p-6 mb-6">
  <h3 class="text-lg font-semibold mb-4">🚀 Generar Horarios</h3>
  <form method="post" action="{% url 'generar_horario' %}" class="grid grid-cols-1 md:grid-cols-3 gap-4" id="form-generacion">
    {% csrf_token %}
    
    <!-- Parámetros principales -->
    <div class="md:col-span-3 mb-4">
      <h4 class="text-md font-medium text-gray-700 mb-2">Parámetros Principales</h4>
    </div>
    
    <div>
      <label class="block text-sm font-medium mb-1">Población</label>
      <input type="number" name="poblacion_size" value="80" min="20" max="200" 
             class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
             title="Número de individuos en la población">
      <p class="text-xs text-gray-500 mt-1">20-200 individuos</p>
    </div>
    
    <div>
      <label class="block text-sm font-medium mb-1">Generaciones</label>
      <input type="number" name="generaciones" value="500" min="50" max="1000" 
             class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
             title="Número máximo de generaciones">
      <p class="text-xs text-gray-500 mt-1">50-1000 generaciones</p>
    </div>
    
    <div>
      <label class="block text-sm font-medium mb-1">Timeout (seg)</label>
      <input type="number" name="timeout_seg" value="180" min="60" max="600" 
             class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
             title="Tiempo máximo de ejecución">
      <p class="text-xs text-gray-500 mt-1">60-600 segundos</p>
    </div>
    
    <!-- Parámetros de algoritmo -->
    <div class="md:col-span-3 mb-4">
      <h4 class="text-md font-medium text-gray-700 mb-2">Parámetros del Algoritmo</h4>
    </div>
    
    <div>
      <label class="block text-sm font-medium mb-1">Prob. Cruce</label>
      <input type="number" name="prob_cruce" value="0.85" min="0.1" max="1.0" step="0.05" 
             class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
             title="Probabilidad de cruce entre individuos">
      <p class="text-xs text-gray-500 mt-1">0.1-1.0</p>
    </div>
    
    <div>
      <label class="block text-sm font-medium mb-1">Prob. Mutación</label>
      <input type="number" name="prob_mutacion" value="0.25" min="0.05" max="0.5" step="0.05" 
             class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
             title="Probabilidad de mutación">
      <p class="text-xs text-gray-500 mt-1">0.05-0.5</p>
    </div>
    
    <div>
      <label class="block text-sm font-medium mb-1">Elite</label>
      <input type="number" name="elite" value="4" min="1" max="10" 
             class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
             title="Número de mejores individuos a preservar">
      <p class="text-xs text-gray-500 mt-1">1-10 individuos</p>
    </div>
    
    <!-- Botón de envío -->
    <div class="md:col-span-3">
      <button type="submit" 
              class="w-full bg-green-600 text-white px-6 py-3 rounded hover:bg-green-700 font-semibold transition-colors focus:ring-2 focus:ring-green-500 focus:ring-offset-2"
              id="btn-generar">
        🎯 Generar Horarios
      </button>
    </div>
  </form>
  
  <!-- Indicador de carga -->
  <div id="loading-indicator" class="hidden mt-4 text-center">
    <div class="inline-flex items-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg">
      <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-blue-700" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
      </svg>
      Generando horarios... Por favor espere
    </div>
  </div>
</div> 